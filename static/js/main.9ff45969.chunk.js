(this["webpackJsonpreact-learning"]=this["webpackJsonpreact-learning"]||[]).push([[0],[,,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var o=n(0),r=n(1),c=n.n(r),a=n(6),d=n.n(a),i=n(4),l=n(8),u=(n(14),function(t){var e=t.todo,n=e.id,r=e.title,c=e.completed,a=e.created;return Object(o.jsx)("div",{className:c?"todo todo-done":"todo",children:Object(o.jsxs)("p",{children:[Object(o.jsx)("input",{type:"checkbox",defaultChecked:c,onChange:function(){return t.toggleCompletion(n)}})," ",r," ",Object(o.jsxs)("span",{className:"date",children:[" ",a]}),Object(o.jsx)("button",{className:"delete-btn",onClick:function(){return t.deleteTodo(n)},children:"delete"})]})})}),s=function(t){return t.todos.map((function(e){return Object(o.jsx)(u,{todo:e,toggleCompletion:function(e){return t.toggleCompletion(e)},deleteTodo:function(e){return t.deleteTodo(e)}},e.id)}))},j=function(t){return Object(o.jsx)("div",{children:s(t)})},f=n(7),b=(n(15),{title:""}),p=function(t){var e=Object(r.useState)(b),n=Object(i.a)(e,2),c=n[0],a=n[1];return Object(o.jsx)("div",{children:Object(o.jsxs)("form",{onSubmit:function(e){return a(function(t,e,n){var o=n.title;return e.preventDefault(),t.addTodo(o),b}(t,e,c))},children:[Object(o.jsx)("input",{type:"text",name:"title",placeholder:"New todo...",className:"add-text",value:c.title,autoComplete:"false",onChange:function(t){return a((e=t.target,Object(f.a)({},e.name,e.value)));var e}}),Object(o.jsx)("input",{type:"submit",value:"Add",className:"add-btn"})]})})},m=(n(16),function(){return Object(o.jsx)("header",{children:Object(o.jsx)("h1",{children:"Todo List"})})}),g=function(t){for(var e,n,o=[],r=1;r<=t;r++){var c=localStorage.getItem(r.toString());if(c){var a=c.split(" ");o.push({id:r,title:(e=a[0],n="~",e.split(n).join(" ")),completed:"true"===a[1],created:a[2]})}}return o},O=function(){var t=new Date,e=String(t.getDate()).padStart(2,"0");return String(t.getMonth()+1).padStart(2,"0")+"/"+e+"/"+t.getFullYear()},h=(n(17),function(){var t=function(){var t=parseInt(localStorage.getItem("lastId"));return t>=Number.MAX_SAFE_INTEGER||isNaN(t)?(localStorage.clear(),0):t}(),e=Object(r.useState)({lastId:t,todos:g(t)}),n=Object(i.a)(e,2),c=n[0],a=n[1];return Object(r.useEffect)((function(){return function(t){var e=t.lastId,n=t.todos;localStorage.setItem("lastId",e),n.forEach((function(t){var e,n,o=t.id,r=t.title,c=t.completed,a=t.created;return localStorage.setItem(o.toString(),"".concat((e=r,n="~",e.split(" ").join(n))," ").concat(c," ").concat(a))}))}(c)}),[c]),Object(o.jsxs)("div",{children:[Object(o.jsx)(m,{}),Object(o.jsx)("div",{className:"container",children:Object(o.jsx)(j,{todos:c.todos,toggleCompletion:function(t){return a(function(t,e){return{todos:t.todos.map((function(t){return t.id===e&&(t.completed=!t.completed),t})),lastId:t.lastId}}(c,t))},deleteTodo:function(t){return a(function(t,e){return localStorage.removeItem(e.toString()),{todos:t.todos.filter((function(t){return t.id!==e})),lastId:t.lastId}}(c,t))}})}),Object(o.jsx)("footer",{children:Object(o.jsx)(p,{addTodo:function(t){return a(function(t,e){return{todos:[].concat(Object(l.a)(t.todos),[{id:t.lastId+1,title:e,completed:!1,created:O()}]),lastId:t.lastId+1}}(c,t))}})})]})});d.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(h,{})}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.9ff45969.chunk.js.map